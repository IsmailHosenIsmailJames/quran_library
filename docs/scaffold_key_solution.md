## حل مشكلة تضارب GlobalKey في مكتبة القرآن

### المشكلة
في الإصدارات السابقة من المكتبة، كان هناك مشكلة تضارب بين `GlobalKey<ScaffoldState>` في المكتبة والتطبيقات التي تستخدمها. هذا يحدث لأن `GlobalKey` يجب أن يكون فريدًا على مستوى التطبيق بأكمله.

### الحل في الإصدار الجديد
قمنا بتعديل المكتبة لتستخدم نهجًا أكثر أمانًا مع المفاتيح العامة:

1. المفتاح `scaffoldKey` الآن يتم إنشاؤه بطريقة كسولة (lazy) فقط عندما يكون هناك حاجة إليه
2. أضفنا تسمية محددة للمفتاح لتجنب التضارب (`QuranLibraryScaffoldKey`)
3. تحسين آلية اختيار السياق (Context) عند عرض شاشات مثل التفسير 

### كيف تستخدم هذه التحسينات؟
ما عليك سوى استخدام الإصدار الجديد من المكتبة. ولكن إذا كنت لا تزال تواجه مشاكل، فإليك بعض الحلول الإضافية:

#### 1. استخدم BuildContext من تطبيقك عند عرض التفسير
```dart
// قم بتمرير السياق الصحيح من تطبيقك
QuranLibrary().showTafsir(
  context: myValidContext, // استخدم سياق من شاشة تحتوي على Scaffold
  // الباقي من المعلمات...
);
```

#### 2. إذا كنت تستخدم عدة مكتبات تعتمد على GlobalKeys
يمكنك إعادة تعيين مفتاح المكتبة عند الانتهاء من استخدامها:
```dart
// بعد الانتهاء من استخدام شاشة القرآن
void onQuranScreenDisposed() {
  final quranState = QuranCtrl.instance.state;
  quranState.dispose(); // هذا سيقوم بإعادة تعيين scaffoldKey
}
```

#### 3. للتطبيقات المعقدة
إذا كنت تستخدم GetX ويكون لديك تطبيق معقد، تأكد من تنظيف الـ controllers عند الانتهاء من الاستخدام:
```dart
@override
void dispose() {
  Get.delete<QuranCtrl>(); // إزالة المتحكم من الذاكرة
  super.dispose();
}
```

### ملاحظة مهمة
لم تعد هناك حاجة لاستخدام `scaffoldKey` يدويًا مع المكتبة. المكتبة ستتعامل مع ذلك داخليًا.
